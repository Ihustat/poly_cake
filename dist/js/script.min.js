document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".questions__content");const e=document.querySelectorAll(".questions__line"),t=document.querySelectorAll(".questions__text"),n=document.querySelectorAll(".questions__line-arrow"),c=[];t.forEach((e=>{c.push(parseInt(window.getComputedStyle(e).height)),e.style.height=0})),e.forEach(((e,o)=>{e.addEventListener("click",(e=>{t[o].classList.toggle("questions__text-active"),n[o].classList.toggle("rotate"),t[o].classList.contains("questions__text-active")?t[o].style.height=`${c[o]+13}px`:t[o].style.height=0}))}));const o=document.querySelector(".examples__slider-inner"),s=document.querySelector(".examples__slider-arrow_right"),r=document.querySelectorAll(".examples__slide"),a=document.querySelector(".examples__slider-arrow_left"),l=parseInt(window.getComputedStyle(r[0]).width),d=document.querySelector(".dots__container_examples"),i=[];let u=0;function _(e=0){u+=e,u>r.length-1&&(u=0),u<0&&(u=r.length-1),i.forEach((e=>{e.classList.remove("dot_active")})),i[u].classList.add("dot_active"),o.style.transform=`translateX(-${u*l}px)`}o.style.width=l*r.length+"px",s.addEventListener("click",(()=>{_(1)})),a.addEventListener("click",(()=>{_(-1)})),r.forEach((e=>{const t=document.createElement("div");t.classList.add("dot"),i.push(t),d.append(t)})),d.addEventListener("click",(e=>{const t=e.target;i.forEach(((e,n)=>{t&&e===t&&(u=0,_(n))}))})),_();const m=document.querySelectorAll(".reviews__slide"),h=document.querySelector(".reviews__dots"),v=[];m.forEach((e=>{const t=document.createElement("div");t.classList.add("dot"),v.push(t),h.append(t)})),h.addEventListener("click",(e=>{const t=e.target;v.forEach(((e,n)=>{e.classList.remove("dot_active"),t&&e===t&&(e.classList.add("dot_active"),m.forEach((e=>{e.style.display="none"})),m[n].style.display="flex")}))})),v[0].click();const f=document.querySelector(".hamburger"),y=document.querySelector(".header__nav");f.addEventListener("click",(()=>{y.classList.toggle("header__nav_active"),f.classList.toggle("hamburger_active")}));const p=document.querySelector(".form"),g=document.querySelectorAll(".form__input"),q=(document.querySelector(".form__btn"),"Мы вам перезвоним"),E="Отправляем...",L="Что-то пошло не так";p.addEventListener("submit",(e=>{e.preventDefault();const t=document.createElement("div");t.textContent=E,p.append(t);const n=new FormData(p);(async function(e,t){const n=await fetch(e,{method:"POST",body:t,headers:{"Content-type":"application/json"}});return await n.json()})("http://localhost:250/requests",JSON.stringify(Object.fromEntries(n.entries()))).then((()=>{t.textContent=q})).catch((()=>{t.textContent=L})).finally((()=>{setTimeout((()=>{t.remove(),g.forEach((e=>{e.value=""}))}),2e3)}))}));const S=document.querySelector(".flavor__content");(async function(e){const t=await fetch(e);return await t.json()})("http://localhost:250/flavors").then((e=>{e.forEach((({title:e,img:t,alt:n,lines:c})=>{!function(e,t,n,c){const o=document.createElement("div");o.classList.add("flavor__card"),o.innerHTML=`\n        <div class="flavor__card-descr">\n        <div class="flavor__card-title">${e}</div>\n\n    </div>\n    <img src="${t}" alt="${n}" class="flavor__card-img">\n        `;const s=o.querySelector(".flavor__card-descr");c.forEach((e=>{const t=document.createElement("div");t.classList.add("flavor__card-line"),t.textContent=`${e}`,s.append(t)})),S.append(o)}(e,t,n,c)}))}))}));