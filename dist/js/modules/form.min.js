const form=()=>{const t=document.querySelector(".form"),e=document.querySelectorAll(".form__input"),o=document.querySelector(".form__checkbox"),n=document.querySelectorAll(".calc__select"),r=document.querySelector(".kilos-input"),c="Мы вам перезвоним",a="Отправляем...",s="Что-то пошло не так";t.addEventListener("submit",(u=>{u.preventDefault();const l=document.createElement("div");l.textContent=a,t.append(l),o.checked?(n.forEach((t=>{t.setAttribute("form","data")})),r.setAttribute("form","data")):(n.forEach((t=>{t.setAttribute("form","")})),r.setAttribute("form",""));const m=new FormData(t);(async function(t,e){const o=await fetch(t,{method:"POST",body:e,headers:{"Content-type":"application/json"}});return await o.json()})("http://localhost:250/requests",JSON.stringify(Object.fromEntries(m.entries()))).then((t=>{console.log(t),l.textContent=c})).catch((()=>{l.textContent=s})).finally((()=>{setTimeout((()=>{l.remove(),e.forEach((t=>{t.value=""}))}),2e3)}))}))};export default form;